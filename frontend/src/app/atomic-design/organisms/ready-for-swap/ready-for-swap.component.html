<div class="container">
  <div class="selected-book" cdkDropList (cdkDropListDropped)="onDrop($event)">
    <span *ngIf="!selectedBooks.length">Your next read awaits a swap!</span>
    <div *ngIf="!selectedBooks.length" class="down-arrow"></div>
    <mat-card
      class="example-card"
      *ngFor="let book of selectedBooks"
      cdkDrag
      (click)="onCardClick(book)"
    >
      <mat-card-header style="background-color: #f6f7f9">
        <mat-card-title class="title-card" style="margin-top: -4px">{{
          book.title
        }}</mat-card-title>
        <mat-card-subtitle style="font-size: 10px; margin-top: -7px">{{
          book.author
        }}</mat-card-subtitle>
        <mat-card-subtitle style="font-size: 10px; margin-top: -4px">{{
          book.condition
        }}</mat-card-subtitle>
      </mat-card-header>
      <img
        mat-card-image
        src="../../../../assets/book-cover.png"
        alt="Photo of a Book"
        style="height: 100px"
      />
    </mat-card>
  </div>
  <div
    class="other-books"
    *ngIf="
      otherBooks &&
      !specificCategory &&
      !specificAuthor &&
      !specificLanguage &&
      !specificBook
    "
  >
    <ng-container *ngIf="otherBooks.length > 0; else noOtherBooksFound">
      <mat-card
        class="example-card"
        *ngFor="let book of otherBooks"
        (click)="onCardClick(book)"
      >
        <mat-card-header style="background-color: #f6f7f9">
          <mat-card-title
            class="title-card"
            style="margin-top: -4px"
            matTooltip="{{ book.title }}"
            matTooltipPosition="right"
            >Title: {{ book.title }}</mat-card-title
          >
          <mat-card-subtitle
            style="font-size: 10px; margin-top: -7px"
            class="author"
            matTooltip="{{ book.author }}"
            matTooltipPosition="right"
            >Author: {{ book.author }}</mat-card-subtitle
          >
          <mat-card-subtitle
            style="font-size: 10px; margin-top: -4px"
            matTooltip="{{ book.condition }}"
            matTooltipPosition="right"
            >Condition: {{ book.condition }}</mat-card-subtitle
          >
        </mat-card-header>
        <img
          mat-card-image
          src="../../../../assets/book-cover.png"
          alt="Photo of a Book"
          style="height: 100px"
        />
      </mat-card>
    </ng-container>
    <ng-template #noOtherBooksFound>
      <div class="no-books-message">
        You're the initial spark! We're preparing more books for your swapping
        adventure.
      </div>
    </ng-template>
  </div>
  <div
    class="other-books"
    *ngIf="
      specificAuthor && !specificCategory && !specificLanguage && !specificBook
    "
  >
    <mat-card class="example-card" *ngFor="let book of otherAuthors">
      <mat-card-header style="background-color: #f6f7f9">
        <mat-card-title class="title-card" style="margin-top: -4px"
          >Title: {{ book.title }}</mat-card-title
        >
        <mat-card-subtitle
          style="font-size: 10px; margin-top: -7px"
          class="author"
          >Author: {{ book.author }}</mat-card-subtitle
        >
        <mat-card-subtitle style="font-size: 10px; margin-top: -4px"
          >Condition: {{ book.condition }}</mat-card-subtitle
        >
      </mat-card-header>
      <img
        mat-card-image
        src="../../../../assets/book-cover.png"
        alt="Photo of a Book"
        style="height: 100px"
      />
    </mat-card>
  </div>
  <div
    class="other-books"
    *ngIf="
      specificCategory && !specificAuthor && !specificLanguage && !specificBook
    "
  >
    <mat-card class="example-card" *ngFor="let book of specificCategories">
      <mat-card-header style="background-color: #f6f7f9">
        <mat-card-title class="title-card" style="margin-top: -4px"
          >Title: {{ book.title }}</mat-card-title
        >
        <mat-card-subtitle
          style="font-size: 10px; margin-top: -7px"
          class="author"
          >Author: {{ book.author }}</mat-card-subtitle
        >
        <mat-card-subtitle style="font-size: 10px; margin-top: -4px"
          >Condition: {{ book.condition }}</mat-card-subtitle
        >
      </mat-card-header>
      <img
        mat-card-image
        src="../../../../assets/book-cover.png"
        alt="Photo of a Book"
        style="height: 100px"
      />
    </mat-card>
  </div>

  <div
    class="other-books"
    *ngIf="
      specificLanguage && !specificCategory && !specificAuthor && !specificBook
    "
  >
    <mat-card class="example-card" *ngFor="let book of setLanguage">
      <mat-card-header style="background-color: #f6f7f9">
        <mat-card-title class="title-card" style="margin-top: -4px"
          >Title: {{ book.title }}</mat-card-title
        >
        <mat-card-subtitle
          style="font-size: 10px; margin-top: -7px"
          class="author"
          >Author: {{ book.author }}</mat-card-subtitle
        >
        <mat-card-subtitle style="font-size: 10px; margin-top: -4px"
          >Condition: {{ book.condition }}</mat-card-subtitle
        >
      </mat-card-header>
      <img
        mat-card-image
        src="../../../../assets/book-cover.png"
        alt="Photo of a Book"
        style="height: 100px"
      />
    </mat-card>
  </div>
  <div
    class="other-books"
    *ngIf="
      specificBook && !specificCategory && !specificAuthor && !specificLanguage
    "
  >
    <ng-container *ngIf="specificTitle.length > 0; else noBooksFound">
      <mat-card class="example-card" *ngFor="let book of specificTitle">
        <mat-card-header style="background-color: #f6f7f9">
          <mat-card-title class="title-card" style="margin-top: -4px"
            >Title: {{ book.title }}</mat-card-title
          >
          <mat-card-subtitle
            style="font-size: 10px; margin-top: -7px"
            class="author"
            >Author: {{ book.author }}</mat-card-subtitle
          >
          <mat-card-subtitle style="font-size: 10px; margin-top: -4px"
            >Condition: {{ book.condition }}</mat-card-subtitle
          >
        </mat-card-header>
        <img
          mat-card-image
          src="../../../../assets/book-cover.png"
          alt="Photo of a Book"
          style="height: 100px"
        />
      </mat-card>
    </ng-container>
    <ng-template #noBooksFound>
      <div class="no-books-message">
        New gems arriving soon! Explore other treasures!
      </div>
    </ng-template>
  </div>
</div>
